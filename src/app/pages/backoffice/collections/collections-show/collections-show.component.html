<ngx-page-main-dashbord
  [title]="'grid.collections.model' | translate"
  [hasBody]="true"
>
  <div body-content class="container-fluid mt--6" *ngIf="!loading; else loadingTemplate">
    <div class="card">
      <div class="card-header">
        <div class="row container-fluid">
          <div class="col-md-6 col-12 text-left">
            <h4 class="modal-title" id="modal-basic-title">
              {{ collection.title }}
            </h4>
          </div>
          <div class="text-right col-md-6 col-12">
            <button
              type="button" class="btn btn-outline-dark"
              [routerLink]="'/collections'"
            >
              <i class="fa fa-sign-out-alt"></i> {{ 'buttons.back' | translate }}
            </button>
          </div>
        </div>
      </div>
      <div class="card-body container-fluid mt-5">
        <div class="col-12">
          <div class="card card-profile">
            <div class=" row justify-content-center">
              <div class="col-lg-3 order-lg-2">
                <div class=" card-profile-image">
                  <img
                    style="width: 125px; height: 125px; border-radius: 100%;"
                    [src]="collection.cover"
                  >
                </div>
              </div>
            </div>
            <div class="card-body mt-5">
              <div class=" row">
                <div class=" col">
                  <div class="card-profile-stats d-flex justify-content-center">
                    <div>
                      <h3 class="h3">
                        {{ collection.title }}
                      </h3>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <ng-container *ngIf="role === 'ADMIN' || role === 'AGENT'">
                  <div class="col-12 col-md-4 h5">
                    <button
                      type="button" class="btn btn-outline-danger btn-sm"
                      (click)="questionToDelete(collection.id)"
                    >
                      <i class="fa fa-trash-alt"></i> {{ 'buttons.delete' | translate }}
                    </button>
                  </div>
                </ng-container>
                <ng-container *ngIf="role === 'DESIGNER'">
                  <div class="col-12 col-md-4 h5">
                    <button
                      type="button" class="btn btn-outline-dark disabled btn-sm"
                    >
                      <i class="fa fa-ban"></i> {{ 'buttons.delete' | translate }}
                    </button>
                  </div>
                </ng-container>

                <ng-container *ngIf="role === 'ADMIN' || role === 'DESIGNER'">
                  <div
                    class="col-12 col-md-4 h5" style="cursor: pointer"
                    (click)="questionToValidateCover(collection.id)"
                  >
                    <i class="fa fa-check-double mr-2"></i>
                    {{ 'grid.tailes.cover-validate' | translate }}
                    <span class="badge badge-pill badge-lg badge-success text-uppercase"
                          *ngIf="collection.coverDesigned">
                  {{ 'buttons.yes' | translate }}
                </span>
                    <span class="badge badge-pill badge-lg badge-danger text-uppercase"
                          *ngIf="!collection.coverDesigned">
                  {{ 'buttons.no' | translate }}
                </span>
                  </div>
                </ng-container>
                <ng-container *ngIf="role === 'ADMIN'">
                  <div class="col-12 col-md-4 h5 text-right" style="cursor: pointer"
                       (click)="questionToValidateContent(collection.id)">
                    <i class="fa fa-check-double mr-2"></i>
                    {{ 'grid.tailes.admin-validate' | translate }}
                    <span class="badge badge-pill badge-lg badge-success text-uppercase"
                          *ngIf="collection.validated">
                  {{ 'buttons.yes' | translate }}
                </span>
                    <span class="badge badge-pill badge-lg badge-danger text-uppercase"
                          *ngIf="!collection.validated">
                  {{ 'buttons.no' | translate }}
                </span>
                  </div>
                </ng-container>

                <ng-container *ngIf="role === 'AGENT'">
                  <div
                    class="col-12 col-md-4 h5"
                  >
                    <i class="fa fa-check-double mr-2"></i>
                    {{ 'grid.tailes.cover-validate' | translate }}
                    <span class="badge badge-pill badge-lg badge-success text-uppercase"
                          *ngIf="collection.coverDesigned">
                  {{ 'buttons.yes' | translate }}
                </span>
                    <span class="badge badge-pill badge-lg badge-danger text-uppercase"
                          *ngIf="!collection.coverDesigned">
                  {{ 'buttons.no' | translate }}
                </span>
                  </div>
                </ng-container>
                <ng-container *ngIf="role === 'DESIGNER' || role === 'AGENT'">
                  <div class="col-12 col-md-4 h5 text-right">
                    <i class="fa fa-check-double mr-2"></i>
                    {{ 'grid.tailes.admin-validate' | translate }}
                    <span class="badge badge-pill badge-lg badge-success text-uppercase"
                          *ngIf="collection.validated">
                  {{ 'buttons.yes' | translate }}
                </span>
                    <span class="badge badge-pill badge-lg badge-danger text-uppercase"
                          *ngIf="!collection.validated">
                  {{ 'buttons.no' | translate }}
                </span>
                  </div>
                </ng-container>

                <div class="col-12 col-md-4 h4 mt-5 font-weight-500">
                  <i class="fa fa-layer-group mr-2"></i>
                  {{ collection?.category?.title }}
                </div>
                <div class="col-12 col-md-4 h4 mt-5 font-weight-500">
                  <i class="fa fa-headphones-alt mr-2"></i>
                  {{ 'grid.tailes.histories' | translate }} ( {{ collection.tailes.length || 0 }} )
                </div>
                <div class="col-12 col-md-4 h4 mt-5 text-right font-weight-500">
                  <i class="fa fa-user-alt mr-2"></i>
                  {{ collection?.author?.firstname }} {{ collection?.author?.lastname }}
                </div>
              </div>
            </div>
            <div class="card-body mt5">
              <h2>{{ 'grid.collections.description' | translate }}</h2>
              <div [innerHtml]="collection.description"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer text-right">
        <div class="container-fluid">
          <button
            *ngIf="role === 'AGENT' || role === 'ADMIN'"
            type="button" class="btn btn-outline-dark"
            [routerLink]="'/collections/update/' + collection.id"
          >
            <i class="fa fa-edit"></i> {{ 'buttons.edit' | translate }}
          </button>
        </div>
      </div>
    </div>
  </div>
</ngx-page-main-dashbord>

<ng-template #loadingTemplate>
  <app-custom-loader></app-custom-loader>
</ng-template>
